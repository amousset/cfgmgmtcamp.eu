<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=MobileOptimized content=width><meta name=HandheldFriendly content=true><meta name=apple-mobile-web-app-capable content=yes><meta name=twitter:card content=summary><meta name=twitter:site content=@cfgmgmtcamp><meta name=twitter:creator content=@cfgmgmtcamp><meta name=twitter:title content="Using acceptance tests for better Puppet modules"><meta name=twitter:description content="Using rspec-puppet to write module tests is also very common.
Most of us also use rspec-puppet-facts to test with the correct OS facts.
These are all good tools and every Puppet module author should know them.
Writing acceptance tests is a lot less known.
With beaker and its plugins we can write acceptance tests with powerful assertions using serverspec on actual throw away machines.
This is the easiest way to guarantee your PRs don’t introduce regressions.
It can also be used during development to verify functionality.
In this talk we’ll go over the basics of how to set up the boiler plate, write tests, easily (re)run them during development and use it in your CI.
Examples will be taken from both Voxpupuli and The Foreman’s Puppet modules."><meta name=twitter:image:alt content="Ewoud Kohl van Wijngaarden"><link href="https://fonts.googleapis.com/css?family=Chivo:900" rel=stylesheet type=text/css><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" rel=stylesheet><link href=/css/leaflet.min.css rel=stylesheet type=text/css><link href=/css/reset.min.css rel=stylesheet type=text/css><link href=/css/stylesheet.min.css rel=stylesheet type=text/css media=screen><link href=/css/pygment_trac.min.css rel=stylesheet type=text/css media=screen><link href=/css/print.min.css rel=stylesheet type=text/css media=print><link href=/css/schedule.min.css rel=stylesheet type=text/css><link href=/css/schedule-single.min.css rel=stylesheet type=text/css><link href=https://use.fontawesome.com/releases/v5.6.3/css/all.css rel=stylesheet><link rel="shortcut icon" href=favicon.ico><script src=/js/leaflet.min.js></script><title>Using acceptance tests for better Puppet modules</title></head><body><nav><a href=# id=menu-icon>&#x2261;</a><ul><li><a href=/><img src=/images/logo_top.png alt=CfgMgmtCamp></a></li><li><a href=/about/>About</a> |</li><li><a href=https://registration.cfgmgmtcamp.be/ghent/2019/>Registration</a> |</li><li><a href=/sponsors/>Sponsors</a> |</li><li><a href=/location/>Location</a> |</li><li><a href=/schedule/>Schedule</a> |</li><li><a href=/fringes/>Fringe</a> |</li><li><a href=/speaker/>Speakers</a> |</li><li><a href=/codeofconduct/>Conduct</a> |</li><li><a href=https://archive.cfgmgmtcamp.eu/>Archive</a> |</li></ul></nav><section id=talk><div id=talk><h1>Using acceptance tests for better Puppet modules</h1><h2><a href=/speaker/ewoudkohlvanwijngaarden>Ewoud Kohl van Wijngaarden</a><a href=https://github.com/ekohl><i class="fab fa-github"></i> ekohl</a></h2><h3><a href=https://cfgmgmtcamp.eu/room/3.puppet/>B.1.015</a>
-
Tuesday 5th February 2019
-
16:30 &rarr; 17:25</h3><div class=event-info><p>Using rspec-puppet to write module tests is also very common.<br>Most of us also use rspec-puppet-facts to test with the correct OS facts.<br>These are all good tools and every Puppet module author should know them.<br>Writing acceptance tests is a lot less known.</p><p>With beaker and its plugins we can write acceptance tests with powerful assertions using serverspec on actual throw away machines.<br>This is the easiest way to guarantee your PRs don&rsquo;t introduce regressions.<br>It can also be used during development to verify functionality.</p><p>In this talk we&rsquo;ll go over the basics of how to set up the boiler plate, write tests, easily (re)run them during development and use it in your CI.<br>Examples will be taken from both Voxpupuli and The Foreman&rsquo;s Puppet modules.</p></div><div class=event-speaker><h2>Speaker Info</h2><p>Passionate open source user.<br>Long time contributor to The Foreman.<br>Recent(ish) Red Hat employee.</p></div></div></section><footer><div>CfgMgmtCamp is a free open source event. CfgMgmtCamp logo is property of the CfgMgmtCamp group.<br>Copyleft 2014 - 2019, CfgMgmtCamp.<br>Git 648b01f<br></div></footer><script type=text/javascript>var _paq=_paq||[];_paq.push(['setDoNotTrack',false]);_paq.push(["setDocumentTitle",document.domain+"/"+document.title]);_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);_paq.push(['enableHeartBeatTimer',5]);_paq.push(['setLinkTrackingTimer',25]);(function(){var u="https:\/\/stats.vantosh.com/";_paq.push(['setTrackerUrl',u+'piwik.php']);_paq.push(['setSiteId',"45"]);var d=document,g=d.createElement('script'),s=d.getElementsByTagName('script')[0];g.type='text/javascript';g.async=true;g.defer=true;g.src=u+'piwik.js';s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="https://stats.vantosh.com/piwik.php?idsite=45" style=border:0 alt></p></noscript></body></html>