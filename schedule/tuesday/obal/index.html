<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=MobileOptimized content=width><meta name=HandheldFriendly content=true><meta name=apple-mobile-web-app-capable content=yes><meta name=twitter:card content=summary><meta name=twitter:site content=@cfgmgmtcamp><meta name=twitter:creator content=@cfgmgmtcamp><meta name=twitter:title content="Obal: wrapping Ansible Playbooks into a CLI app"><meta name=twitter:description content="The Foreman had various scripts written in a various languages to do packaging.
In Red Hat downstream there was an entirely separate set of tools available.
The same people also worked on Pulp packaging.
To share workflows we’re standardizing on Ansible roles and playbooks.
Because running Ansible is awkward, we wrote a wrapper in Python named obal.
This allows us to provide a clean command line interface with help texts that allow self discovery of the options.
While the tool bundles our packaging playbooks, it is designed to be able to use any Ansible playbook.
In this talk we’ll go over the use cases, glueing Ansible and Python’s argparse together and some shortcomings of Ansible we worked around."><meta name=twitter:image:alt content="Ewoud Kohl van Wijngaarden"><link href="https://fonts.googleapis.com/css?family=Chivo:900" rel=stylesheet type=text/css><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" rel=stylesheet><link href=/css/leaflet.min.css rel=stylesheet type=text/css><link href=/css/reset.min.css rel=stylesheet type=text/css><link href=/css/stylesheet.min.css rel=stylesheet type=text/css media=screen><link href=/css/pygment_trac.min.css rel=stylesheet type=text/css media=screen><link href=/css/print.min.css rel=stylesheet type=text/css media=print><link href=/css/schedule.min.css rel=stylesheet type=text/css><link href=/css/schedule-single.min.css rel=stylesheet type=text/css><link href=https://use.fontawesome.com/releases/v5.6.3/css/all.css rel=stylesheet><link rel="shortcut icon" href=favicon.ico><script src=/js/leaflet.min.js></script><title>Obal: wrapping Ansible Playbooks into a CLI app</title></head><body><nav><a href=# id=menu-icon>&#x2261;</a><ul><li><a href=/><img src=/images/logo_top.png alt=CfgMgmtCamp></a></li><li><a href=/about/>About</a> |</li><li><a href=https://registration.cfgmgmtcamp.be/ghent/2019/>Registration</a> |</li><li><a href=/sponsors/>Sponsors</a> |</li><li><a href=/location/>Location</a> |</li><li><a href=/schedule/>Schedule</a> |</li><li><a href=/fringes/>Fringe</a> |</li><li><a href=/speaker/>Speakers</a> |</li><li><a href=/codeofconduct/>Conduct</a> |</li><li><a href=https://archive.cfgmgmtcamp.eu/>Archive</a> |</li></ul></nav><section id=talk><div id=talk><h1>Obal: wrapping Ansible Playbooks into a CLI app</h1><h2><a href=/speaker/ewoudkohlvanwijngaarden>Ewoud Kohl van Wijngaarden</a><a href=https://github.com/ekohl><i class="fab fa-github"></i> ekohl</a></h2><h3><a href=https://cfgmgmtcamp.eu/room/3.ansible/>B.1.017</a>
-
Tuesday 5th February 2019
-
17:30 &rarr; 17:55</h3><div class=event-info><p>The Foreman had various scripts written in a various languages to do packaging.<br>In Red Hat downstream there was an entirely separate set of tools available.<br>The same people also worked on Pulp packaging.<br>To share workflows we&rsquo;re standardizing on Ansible roles and playbooks.<br>Because running Ansible is awkward, we wrote a wrapper in Python named obal.<br>This allows us to provide a clean command line interface with help texts that allow self discovery of the options.<br>While the tool bundles our packaging playbooks, it is designed to be able to use any Ansible playbook.<br>In this talk we&rsquo;ll go over the use cases, glueing Ansible and Python&rsquo;s argparse together and some shortcomings of Ansible we worked around.</p></div><div class=event-speaker><h2>Speaker Info</h2><p>Passionate open source user.<br>Long time contributor to The Foreman.<br>Recent(ish) Red Hat employee.</p></div></div></section><footer><div>CfgMgmtCamp is a free open source event. CfgMgmtCamp logo is property of the CfgMgmtCamp group.<br>Copyleft 2014 - 2019, CfgMgmtCamp.<br>Git 2b8b434<br></div></footer><script type=text/javascript>var _paq=_paq||[];_paq.push(['setDoNotTrack',false]);_paq.push(["setDocumentTitle",document.domain+"/"+document.title]);_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);_paq.push(['enableHeartBeatTimer',5]);_paq.push(['setLinkTrackingTimer',25]);(function(){var u="https:\/\/stats.vantosh.com/";_paq.push(['setTrackerUrl',u+'piwik.php']);_paq.push(['setSiteId',"45"]);var d=document,g=d.createElement('script'),s=d.getElementsByTagName('script')[0];g.type='text/javascript';g.async=true;g.defer=true;g.src=u+'piwik.js';s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="https://stats.vantosh.com/piwik.php?idsite=45" style=border:0 alt></p></noscript></body></html>